{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Entry.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","props","value","onChange","PersonForm","onSubmit","nameValue","nameOnChange","numberValue","numberOnChange","type","Entry","entry","handleDeletePerson","name","number","onClick","Persons","newSearch","length","persons","filter","toLowerCase","includes","map","key","id","handleDeletePersonOf","Notification","message","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setNewSearch","notificationMessage","setNotificationMessage","notificationType","setNotificationType","useEffect","personsService","initialPersons","event","target","preventDefault","x","returnedPerson","concat","setTimeout","catch","error","errorMessage","JSON","stringify","window","confirm","person","find","n","changedPerson","deletePerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.48faa518.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = props => {\r\n    return (\r\n        <div>\r\n            <input value={props.value} onChange={props.onChange} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = props => {\r\n    return (\r\n        <form onSubmit={props.onSubmit}>\r\n            <div>\r\n                name:{\" \"}\r\n                <input value={props.nameValue} onChange={props.nameOnChange} />\r\n            </div>\r\n            <div>\r\n                number:\r\n                <input\r\n                    value={props.numberValue}\r\n                    onChange={props.numberOnChange}\r\n                />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Entry = ({ entry, handleDeletePerson }) => {\r\n    return (\r\n        <li>\r\n            {entry.name} &ndash; {entry.number}\r\n            <button onClick={handleDeletePerson}>Delete</button>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default Entry;\r\n","import React from \"react\";\r\nimport Entry from \"./Entry\";\r\n\r\nconst Persons = props => {\r\n    if (props.newSearch.length > 0) {\r\n        let isMatch = props.persons.filter(function(entry) {\r\n            return (\r\n                entry.name\r\n                    .toLowerCase()\r\n                    .includes(props.newSearch.toLowerCase()) === true\r\n            );\r\n        });\r\n\r\n        return isMatch.map(entry => (\r\n            <Entry\r\n                key={entry.id}\r\n                entry={entry}\r\n                handleDeletePerson={() => props.handleDeletePersonOf(entry.id)}\r\n            />\r\n        ));\r\n    } else {\r\n        return props.persons.map(entry => (\r\n            <Entry\r\n                key={entry.id}\r\n                entry={entry}\r\n                handleDeletePerson={() => props.handleDeletePersonOf(entry.id)}\r\n            />\r\n        ));\r\n    }\r\n};\r\n\r\nexport default Persons;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, type }) => {\r\n    if (message === null) {\r\n        return null;\r\n    }\r\n\r\n    return <div className={type}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n\tconst request = axios.get(baseUrl);\r\n\treturn request.then(response => response.data);\r\n};\r\n\r\nconst create = newObject => {\r\n\tconst request = axios.post(baseUrl, newObject);\r\n\treturn request.then(response => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n\tconst request = axios.put(`${baseUrl}/${id}`, newObject);\r\n\treturn request.then(response => response.data);\r\n};\r\n\r\nconst deleteEntry = id => {\r\n\tconst request = axios.delete(`${baseUrl}/${id}`);\r\n\treturn request.then(response => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, deleteEntry };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Filter from \"./components/Filter\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport Persons from \"./components/Persons\";\r\nimport Notification from \"./components/Notification\";\r\nimport personsService from \"./services/persons\";\r\n\r\nconst App = () => {\r\n\tconst [persons, setPersons] = useState([]);\r\n\tconst [newName, setNewName] = useState(\"\");\r\n\tconst [newNumber, setNewNumber] = useState(\"\");\r\n\tconst [newSearch, setNewSearch] = useState(\"\");\r\n\tconst [notificationMessage, setNotificationMessage] = useState(null);\r\n\tconst [notificationType, setNotificationType] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tpersonsService.getAll().then(initialPersons => {\r\n\t\t\tsetPersons(initialPersons);\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst addPerson = event => {\r\n\t\tevent.preventDefault();\r\n\t\tlet checkName = persons.filter(\r\n\t\t\tx => x.name.toLowerCase() === newName.toLowerCase()\r\n\t\t);\r\n\r\n\t\tif (checkName.length === 0) {\r\n\t\t\tconst personObject = {\r\n\t\t\t\tname: newName,\r\n\t\t\t\tnumber: newNumber\r\n\t\t\t};\r\n\t\t\tpersonsService\r\n\t\t\t\t.create(personObject)\r\n\t\t\t\t.then(returnedPerson => {\r\n\t\t\t\t\tsetPersons(persons.concat(returnedPerson));\r\n\t\t\t\t\tsetNewName(\"\");\r\n\t\t\t\t\tsetNewNumber(\"\");\r\n\t\t\t\t\tsetNotificationMessage(\r\n\t\t\t\t\t\t`${newName} was added to the phonebook.`\r\n\t\t\t\t\t);\r\n\t\t\t\t\tsetNotificationType(\"success\");\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tsetNotificationMessage(null);\r\n\t\t\t\t\t}, 5000);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tlet errorMessage = JSON.stringify(\r\n\t\t\t\t\t\terror.response.data.error\r\n\t\t\t\t\t);\r\n\t\t\t\t\tsetNotificationMessage(`${errorMessage}`);\r\n\t\t\t\t\tsetNotificationType(\"error\");\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tsetNotificationMessage(null);\r\n\t\t\t\t\t}, 5000);\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (\r\n\t\t\t\twindow.confirm(\r\n\t\t\t\t\t`${newName} is already added to phonebook. Would you like to replace the old number with a new one?`\r\n\t\t\t\t)\r\n\t\t\t) {\r\n\t\t\t\tconst person = persons.find(n => n.name === newName);\r\n\t\t\t\tconst changedPerson = { ...person, number: newNumber };\r\n\t\t\t\tlet id = person.id;\r\n\t\t\t\tpersonsService\r\n\t\t\t\t\t.update(id, changedPerson)\r\n\t\t\t\t\t.then(returnedPerson => {\r\n\t\t\t\t\t\tsetPersons(\r\n\t\t\t\t\t\t\tpersons.map(person =>\r\n\t\t\t\t\t\t\t\tperson.id !== id ? person : returnedPerson\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tsetNewName(\"\");\r\n\t\t\t\t\t\tsetNewNumber(\"\");\r\n\t\t\t\t\t\tsetNotificationMessage(\r\n\t\t\t\t\t\t\t`${newName}'s number has been updated to ${newNumber}.`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tsetNotificationType(\"success\");\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tsetNotificationMessage(null);\r\n\t\t\t\t\t\t}, 5000);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\tsetNotificationMessage(\r\n\t\t\t\t\t\t\t`This entry has already been removed from the phonebook. Cannot edit the number.`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tsetNotificationType(\"error\");\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tsetNotificationMessage(null);\r\n\t\t\t\t\t\t}, 5000);\r\n\t\t\t\t\t\tsetPersons(persons.filter(n => n.id !== id));\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst deletePerson = id => {\r\n\t\tif (window.confirm(\"Do you really want to delete this entry?\")) {\r\n\t\t\tpersonsService\r\n\t\t\t\t.deleteEntry(id)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tsetPersons(persons.filter(n => n.id !== id));\r\n\t\t\t\t\tsetNotificationMessage(\r\n\t\t\t\t\t\t`Entry has been removed from the phonebook.`\r\n\t\t\t\t\t);\r\n\t\t\t\t\tsetNotificationType(\"success\");\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tsetNotificationMessage(null);\r\n\t\t\t\t\t}, 5000);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tsetNotificationMessage(\r\n\t\t\t\t\t\t`This entry has already been removed from the phonebook.`\r\n\t\t\t\t\t);\r\n\t\t\t\t\tsetNotificationType(\"error\");\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tsetNotificationMessage(null);\r\n\t\t\t\t\t}, 5000);\r\n\t\t\t\t\tsetPersons(persons.filter(n => n.id !== id));\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleNameChange = event => {\r\n\t\tsetNewName(event.target.value);\r\n\t};\r\n\r\n\tconst handleNumberChange = event => {\r\n\t\tsetNewNumber(event.target.value);\r\n\t};\r\n\r\n\tconst handleSearchChange = event => {\r\n\t\tsetNewSearch(event.target.value);\r\n\t};\r\n\r\n\tconst handleDeletePersonOf = id => {\r\n\t\tdeletePerson(id);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Notification\r\n\t\t\t\tmessage={notificationMessage}\r\n\t\t\t\ttype={notificationType}\r\n\t\t\t/>\r\n\t\t\t<h2>Phonebook</h2>\r\n\t\t\t<Filter value={newSearch} onChange={handleSearchChange} />\r\n\t\t\t<h2>Add new entry</h2>\r\n\t\t\t<PersonForm\r\n\t\t\t\tonSubmit={addPerson}\r\n\t\t\t\tnameValue={newName}\r\n\t\t\t\tnameOnChange={handleNameChange}\r\n\t\t\t\tnumberValue={newNumber}\r\n\t\t\t\tnumberOnChange={handleNumberChange}\r\n\t\t\t/>\r\n\t\t\t<h2>Numbers</h2>\r\n\t\t\t<Persons\r\n\t\t\t\tnewSearch={newSearch}\r\n\t\t\t\tpersons={persons}\r\n\t\t\t\thandleDeletePersonOf={handleDeletePersonOf}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}